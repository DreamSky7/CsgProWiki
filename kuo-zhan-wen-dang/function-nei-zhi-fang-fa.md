# ğŸ–¥ï¸ Function å†…ç½®æ–¹æ³•

{% hint style="info" %}
å†…ç½®çš„æ–¹æ³•åªæ˜¯å¸¸ç”¨æ–¹æ³•ï¼Œä½ ä¾ç„¶å¯ä»¥ä½¿ç”¨JavaTaskå¯¹æ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œå½“ç„¶ä½ ä¹Ÿéœ€è¦ä¸€äº›ç¼–ç¨‹çŸ¥è¯†ï¼Œäº†è§£Bukkitã€‚
{% endhint %}

## æ¶ˆæ¯ç±»

### &#x20;tell å‘é€æ–‡æœ¬æ¶ˆæ¯

> **tell(message)  @ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> ç»™ç›®æ ‡å‘é€ä¸€æ¡èŠå¤©æ¡†æ¶ˆæ¯
>
> å‚æ•°:&#x20;
>
> * æ¶ˆæ¯å†…å®¹

### notice å‘é€å…¨ä½“æ¶ˆæ¯

> #### notice(message)
>
> ç»™æ¸¸æˆæˆ¿é—´å†…çš„æ‰€æœ‰ç©å®¶å‘é€ä¸€æ¡èŠå¤©æ¡†æ¶ˆæ¯ **ï¼ˆæ— ç›®æ ‡æ–¹æ³•ï¼‰**

### say å‘é€èŠå¤©æ¶ˆæ¯

> #### say(message) **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> ç”±ç›®æ ‡å‘é€ä¸€æ¡èŠå¤©æ¡†æ¶ˆæ¯
>
> å‚æ•°:&#x20;
>
> * æ¶ˆæ¯å†…å®¹

### title å‘é€æ ‡é¢˜æ¶ˆæ¯

> #### title(ä¸»æ ‡é¢˜, å‰¯æ ‡é¢˜, æ·¡å…¥æ—¶é—´, æŒç»­æ—¶é—´, æ·¡å‡ºæ—¶é—´) **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> ç»™ç›®æ ‡å‘é€ä¸€æ¡æ ‡é¢˜æ¶ˆæ¯
>
> å‚æ•°:&#x20;
>
> * ä¸»æ ‡é¢˜ï¼ˆå¿…å¡«ï¼‰
> * å‰¯æ ‡é¢˜ï¼ˆéå¿…å¡«ï¼‰
> * æ·¡å…¥æ—¶é—´ï¼ˆéå¿…å¡«ï¼‰é»˜è®¤ 10
> * æŒç»­æ—¶é—´ï¼ˆéå¿…å¡«ï¼‰é»˜è®¤ 70
> * æ·¡å‡ºæ—¶é—´ï¼ˆéå¿…å¡«ï¼‰é»˜è®¤ 10

```
// æ”¯æŒçš„å†™æ³•
title(åªæœ‰å¤§æ ‡é¢˜) @p
title(æœ‰å¤§æ ‡é¢˜, ä¹Ÿæœ‰å°æ ‡é¢˜) @p
title(æœ‰æ ‡é¢˜, ä¹Ÿæœ‰åŠ¨ç”»è®¾å®š, 10, 20, 10) @p
```

### actionbar å‘é€Actionbar

> #### actionbar(message) **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> ç»™ç›®æ ‡å‘é€ç‰©å“æ æ¶ˆæ¯
>
> å‚æ•°:
>
> * message æ¶ˆæ¯å†…å®¹

### log å‘é€è°ƒè¯•æ¶ˆæ¯

> #### log(message)
>
> åœ¨æ§åˆ¶å°æ‰“å°æ¶ˆæ¯ï¼Œç”¨äºè°ƒ&#x8BD5;**ï¼ˆæ— ç›®æ ‡æ–¹æ³•ï¼‰**&#x20;
>
> å‚æ•°:
>
> * message æ¶ˆæ¯å†…å®¹

### command ç›®æ ‡æ‰§è¡ŒæŒ‡ä»¤

> #### command(cmd) **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> ç›®æ ‡ä»¥OPçš„èº«ä»½æ‰§è¡ŒæŒ‡ä»¤
>
> å‚æ•°:
>
> * cmd æ‰§è¡Œçš„æŒ‡ä»¤

### consolecommand æ§åˆ¶å°æ‰§è¡ŒæŒ‡ä»¤

> #### consolecommand(cmd)
>
> æ§åˆ¶å°æ‰§è¡ŒæŒ‡ä»¤
>
> å‚æ•°:
>
> * cmd æ‰§è¡Œçš„æŒ‡ä»¤

##

## ç©å®¶ç±»

### setspawn è®¾ç½®é‡ç”Ÿç‚¹

> #### setspawn() **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> è®¾ç½®å½“å‰ä½ç½®ä¸ºç©å®¶çš„å‡ºç”Ÿç‚¹ï¼Œæ­»äº¡ååœ¨æ­¤ä½ç½®é‡ç”Ÿ

### setproperty è®¾ç½®å±æ€§

> #### setproperty(attr, value) **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> è®¾ç½®ç©å®¶çš„å¸¸è§„å±æ€§å€¼
>
> å‚æ•°:
>
> * attr å±æ€§å
> * value å±æ€§å€¼

```
// æ”¯æŒçš„å±æ€§
setproperty(maxhealth, 50) @p  #æœ€å¤§ç”Ÿå‘½å€¼
setproperty(health, 30) @p # è®¾ç½®å½“å‰ç”Ÿå‘½å€¼
setproperty(speed, 1.5) @p # è®¾ç½®ç§»åŠ¨é€Ÿåº¦
setproperty(food, 20) @p # è®¾ç½®é¥¥é¥¿å€¼

âœ… CsgPro 2.0.3+
setproperty(gamemode, 1) @p # è®¾ç½®æ¸¸æˆæ¨¡å¼ 
```

### damage é€ æˆä¼¤å®³

> #### damage(num) **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> å¯¹ç©å®¶é€ æˆæŒ‡å®šæ•°é¢çš„ä¼¤å®³
>
> å‚æ•°:
>
> * num é€ æˆçš„ä¼¤å®³å€¼

### clear æ¸…ç†èƒŒåŒ…

> #### clear() **@ç›®æ ‡æŒ‡ç¤ºå™¨** âœ… CsgPro 2.0.3+
>
> æ¸…é™¤ç©å®¶æŒ‡å®šä½ç½®çš„ç‰©å“

```yaml
# æ— å‚æ•°å†™æ³•
clear() @p #æ¸…ç†ç©å®¶æ‰€æœ‰ç‰©å“

# æœ‰å‚å†™æ³• ï¼ˆç±»å‹ï¼Œæ§½ä½ï¼‰
clear(SLOT, 1) @p #æ¸…ç†ç©å®¶èƒŒåŒ…æŒ‡å®šæ§½ä½çš„ç‰©å“
clear(QUICK_BAR) @p # æ¸…ç†ç©å®¶èƒŒåŒ…çš„å¿«æ·æ çš„ç‰©å“
```

### teleport ä¼ é€ç›®æ ‡

> #### teleport(loc) **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> ä¼ é€ç©å®¶è‡³æŒ‡å®šåæ ‡
>
> å‚æ•°:
>
> * loc åæ ‡æ–‡æœ¬

```yaml
// å¯è¢«è§£æçš„å†™æ³•
teleport(jz;0;100;0) @p 
// ä¸–ç•Œ;X;Y;Z

teleport(0 100 0 jz) @p 
// X Y Z ä¸–ç•Œ
```

### spawnmob ç”Ÿæˆå®ä½“

> #### spawnmob(type,loc)
>
> ç”ŸæˆæŒ‡å®šå®ä½“
>
> å‚æ•°:
>
> * `type` å®ä½“ç±»å‹
> * `loc` åæ ‡æ–‡æœ¬

```yaml
// å¯è¢«è§£æçš„å†™æ³•
spawnmob(ZOMBIE,jz;0;100;0) 
```

### setblock è®¾ç½®æ–¹å—

> #### setblock(type,loc)
>
> è®¾ç½®æŸä¸ªåæ ‡çš„æ–¹å—ä¸ºæŒ‡å®šç±»å‹çš„æ–¹å—
>
> å‚æ•°:
>
> * `type` æ–¹å—ç±»å‹
> * `loc` åæ ‡æ–‡æœ¬

```yaml
// å¯è¢«è§£æçš„å†™æ³•
setblock(AIR, jz;0;100;0)
```

## é˜Ÿåˆ—ç±»

### join åŠ å…¥æ¸¸æˆ

> #### join(group) **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> ä½¿ç›®æ ‡åŠ å…¥æŒ‡å®šçš„é˜Ÿåˆ—
>
> å‚æ•°
>
> * group é˜Ÿåˆ—åç§°

```
join(Red) @p
```

### leave ç¦»å¼€æ¸¸æˆ

> #### leave() **@ç›®æ ‡æŒ‡ç¤ºå™¨**
>
> ä½¿ç›®æ ‡ç¦»å¼€å½“å‰æ¸¸æˆæˆ¿é—´

```
leave() @p
```

### drivide å‡è¡¡åˆ†é…

> #### drivide() âœ… CsgPro 2.0.0+
>
> é˜Ÿåˆ—å¹³å‡éšæœºåˆ†é…ç©å®¶
>
> å‚æ•°:
>
> gourp... å¤šä¸ªé˜Ÿåˆ—åç§°

```
drivide(Red, Blue) 
// å°†æ¸¸æˆæˆ¿é—´å†…çš„æ‰€æœ‰ç©å®¶å¹³å‡åˆ†é…è‡³Red, Blueä¸¤ä¸ªé˜Ÿåˆ—ä¸­

drivide(Red, Blue, Yellow, Pink)
// å°†æ¸¸æˆæˆ¿é—´å†…çš„æ‰€æœ‰ç©å®¶å¹³å‡åˆ†é…è‡³Red, Blue, Yellow, Pinkç­‰å¤šä¸ªé˜Ÿåˆ—å¯ç»§ç»­æ— é™æ·»åŠ 
```

## å˜é‡ç±»

### macro å…¨å±€å˜é‡

> macro()
>
> å®å˜é‡ï¼ˆå…¨å±€å˜é‡ï¼‰å¯åœ¨Macro.ymlæ–‡ä»¶ä¸­é¢„å®šä¹‰å€¼ï¼Œå¤šç§è¯­æ³•

<pre class="language-yaml"><code class="lang-yaml"><strong># è®¾ç½®å®å˜é‡ deathamountçš„å€¼ä¸º 2
</strong><strong>macro(deathamount, 2) 
</strong><strong>
</strong><strong># {deathamount} æ˜¯è°ƒç”¨å®çš„å†™æ³•
</strong>notice(è¿™å±€æ¸¸æˆæœ€å¤§æ­»äº¡æ•°ï¼š {deathamount})
</code></pre>

<figure><img src="../.gitbook/assets/image (11).png" alt=""><figcaption><p>æ¸¸æˆå†…è¾“å‡ºæ•ˆæœ</p></figcaption></figure>

```yaml
# ä½¿ç”¨ +/- å¯ä»¥å¯¹æ•°å€¼ç±»å®å˜é‡è¿›è¡Œé€’å¢

macro(deathamount, 1) 
notice(è¿™å±€æ¸¸æˆæœ€å¤§æ­»äº¡æ•°ï¼š {deathamount})
macro(deathamount, +2) 
notice(æ›´æ–°æ¸¸æˆæœ€å¤§æ­»äº¡æ•°ï¼š {deathamount})
macro(deathamount, -3) 
notice(æ›´æ–°æ¸¸æˆæœ€å¤§æ­»äº¡æ•°ï¼š {deathamount})
```

<figure><img src="../.gitbook/assets/image (12).png" alt=""><figcaption><p>æ‰§è¡Œæ•ˆæœ</p></figcaption></figure>

**è¿›é˜¶ä¸€: åˆ—è¡¨ç”¨æ³•**  âœ… CsgPro 2.0.0+

```yaml
# ä½¿ç”¨ macro(å˜é‡, æ“ä½œæ ‡è¯†, æ•°å€¼) è¿›è¡Œåˆ—è¡¨æ“ä½œ
macro(heroList, add, ç›–ä¼¦) 
macro(heroList, add, å¡ç‰¹) 
macro(heroList, add, å‰‘åœ£)
macro(heroList, add, äºšç´¢)
macro(heroList, add, å‰‘é­”)
tell(&7è‹±é›„åˆ—è¡¨: &a{heroList}) @p  # è¾“å‡ºæ•°æ®
macro(heroList, del, å‰‘é­”)
macro(heroList, del, äºšç´¢)
tell(&7è‹±é›„åˆ—è¡¨: &a{heroList}) @p
# è·å–ç¬¬äºŒä¸ªè‹±é›„ï¼šè¯·æ³¨æ„ç´¢å¼•æ˜¯ä»0å¼€å§‹çš„
tell(&7æŒ‡å®šè‹±é›„: &a{heroList.1}) @p
```

<figure><img src="../.gitbook/assets/image (16).png" alt=""><figcaption><p>æ‰§è¡Œæ•ˆæœ</p></figcaption></figure>

**åˆ—è¡¨æ‰©å±•**

```yaml
âœ… CsgPro 2.0.3+

macro(heroList, add, ç›–ä¼¦) 
macro(heroList, add, å¡ç‰¹) 
macro(heroList, add, å‰‘åœ£)
macro(heroList, add, äºšç´¢)
macro(heroList, add, å‰‘é­”)
tell(&7è‹±é›„åˆ—è¡¨: &a{heroList}) @p
tell(&7ç§»é™¤å¼€å§‹) @p
macro(heroList, delstart)
tell(&7è‹±é›„åˆ—è¡¨: &a{heroList}) @p
tell(&7ç§»é™¤ç»“å°¾) @p
macro(heroList, delend)
tell(&7è‹±é›„åˆ—è¡¨: &a{heroList}) @p


âœ… CsgPro 2.0.4+

# åˆ¤æ–­æŒ‡å®šæ•°æ®æ˜¯å¦ä½äºåˆ—è¡¨ä¸­
# æ³¨æ„ï¼è¿™ä¸ªè¿”å›çš„æ˜¯true / false
macro(heroList, contains, ç›–ä¼¦) 

# å¦‚æœè¦ä½¿ç”¨åˆ¤æ–­çš„è¯å‚è€ƒä¸‹é¢ä¾‹å­
result -> macro(heroList, contains, ç›–ä¼¦) 
if({result})
    tell(å­˜åœ¨æ•°æ®) @p
    end()
tell(ä¸å­˜åœ¨æ•°æ®) @p
```

<figure><img src="../.gitbook/assets/image.png" alt=""><figcaption><p>æ‰§è¡Œæ•ˆæœ</p></figcaption></figure>

### setscore è®¾ç½®ç©å®¶å˜é‡

> #### setscore(name, val) @ç›®æ ‡æŒ‡ç¤ºå™¨
>
> è®¾ç½®æŸä¸ªç©å®¶çš„åˆ†æ•°å€¼ï¼Œä»…æ”¯æŒæ•°å€¼ç±»å‹

```
# è®¾ç½®ç›®æ ‡ç©å®¶ hitscore çš„å€¼ä¸º 5
setscore(hitscore, 5) @p 

# ä½¿ç”¨ +/- å¯ä»¥å¯¹å˜é‡è¿›è¡Œé€’å¢å’Œé€’å‡

setscore(hitscore, +1) @p
setscore(hitscore, -2) @p
```

### getscore è·å–ç©å®¶å˜é‡&#x20;

> #### getscore(name, val) @ç›®æ ‡æŒ‡ç¤ºå™¨
>
> è·å–æŸä¸ªç©å®¶çš„åˆ†æ•°å€¼

```
x -> getscore(hitscore) @p
tell(ä½ çš„å¾—åˆ†æ˜¯: {x})
```

##

## æµç¨‹æ§åˆ¶ç±»

### if åˆ¤æ–­æ¡ä»¶

> #### if(æ¡ä»¶å¼) @é€‰æ‹©å™¨
>
> åˆ¤æ–­å¦‚æœæ¡ä»¶å¼æ»¡è¶³çš„æƒ…å†µä¸‹æ‰§è¡Œçš„é€»è¾‘

```
# åˆ¤æ–­ç©å®¶ç©å®¶è¡€é‡æ˜¯å¦ä½äº20
if({player.health} < 5)
    tell(ä½ çš„ç”Ÿå‘½å€¼è¿‡ä½ï¼å°å¿ƒï¼) @p
```

è¯¥ä¾‹å­ä¼šåœ¨æ‰§è¡Œçš„æ—¶å€™åˆ¤æ–­ç©å®¶ç”Ÿå‘½å€¼å¦‚æœä½äº5åˆ™æ‰§è¡Œtellè¡Œä¸º

åŒæ—¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ELSEåœ¨ifä¸è§¦å‘çš„æ—¶å€™è¿›è¡Œå…¶ä»–æ“ä½œ

```
# åˆ¤æ–­ç©å®¶çš„ç­‰çº§æ˜¯å¦å¤§äº5
if({player.level} > 5)
    tell(ç­‰çº§æ»¡è¶³ï¼Œå¯ä»¥è¿›è¡ŒæŒ‘æˆ˜ï¼) @p
else
    tell(ç­‰çº§ä¸è¶³ï¼Œä½ ä»éœ€è¿›è¡ŒåŠªåŠ›ï¼) @p
```

è¯¥ä¾‹å­ä¼šåœ¨ç©å®¶ç­‰çº§>5çš„æ—¶å€™æ‰§è¡Œ `ç­‰çº§æ»¡è¶³ï¼Œå¯ä»¥è¿›è¡ŒæŒ‘æˆ˜ï¼`  å¦‚æœä¸æ»¡è¶³æ¡ä»¶åˆ™è¾“å‡º `ç­‰çº§ä¸è¶³ï¼Œä½ ä»éœ€è¿›è¡ŒåŠªåŠ›ï¼`
